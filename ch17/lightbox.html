<!-- lightbox.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .row {
      width: 420px;
      margin: 0 auto;
    }
    .row ul {
      list-style: none; /* 블릿을 없앰 */
      margin: 0;
      padding: 0;
    }
    .row ul li {
      display: inline-table;
    }
    /* id='lightbox' */
    #lightbox {
      position: fixed;/* 브라우저 기준 위치사용 */
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7); /*검정색, 불투명도:0.7*/
      top: 0; /* 위쪽끝 */
      left: 0; /* 왼쪽끝 */
      display: none; /* 처음에는 감춘다 */
    }
    /* lightbox안에있는 이미지 스타일 */
    #lightbox img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform:translate(-50%, -50%); /* 화면중앙에 표시하기 위해 설정 */
      border: 5px solid #eee;
    }
  </style>
</head>
<body>
  <div class="row">
    <ul>
      <li><img src="../images/tree-1-thumb.jpg" data-src="../images/tree-1.jpg" class="pic"></li>
      <li><img src="../images/tree-2-thumb.jpg" data-src="../images/tree-2.jpg" class="pic"></li>
      <li><img src="../images/tree-3-thumb.jpg" data-src="../images/tree-3.jpg" class="pic"></li>
      <li><img src="../images/tree-4-thumb.jpg" data-src="../images/tree-4.jpg" class="pic"></li>
      <li><img src="../images/tree-5-thumb.jpg" data-src="../images/tree-5.jpg" class="pic"></li>
      <li><img src="../images/tree-6-thumb.jpg" data-src="../images/tree-6.jpg" class="pic"></li>
    </ul>
  </div>
  <div id="lightbox">
    <img src="../images/tree-1.jpg" alt="" id="lightboxImage">
  </div>

  <script>
    var pics = document.getElementsByClassName('pic');  // class="pic" 로 설정된 element 모두를 pics 변수에 저장합니다.(HTMLCollection객체)
    var lightbox = document.getElementById('lightbox'); // id='lightbox'로 설정된 element
    var lightboxImage = document.getElementById('lightboxImage');

    // pics 에 이벤트 등록
    for (let i = 0 ; i < pics.length ; i++) {
      // addEventListener("이벤트", 함수이름)
      // 이벤트 이름은 P541, 542 참고 (on없이 사용)
      pics[i].addEventListener("click", showLightbox);
    }

    function showLightbox() {
      // this는 이벤트가 발생된 element를 가르킵니다.
      // 태그안의 data-src속성의 값을 bigLocation 변수에 저장합니다.
      var bigLocation = this.getAttribute("data-src");
      lightboxImage.setAttribute("src", bigLocation);
      lightbox.style.display = "block"; // lightbox element가 보이도록
    }

    lightbox.onclick = function () {
      lightbox.style.display = "none";  // llightbox를 클릭하면 안보이도록 합니다.
    }
  </script>
</body>
</html>